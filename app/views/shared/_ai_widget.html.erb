<div data-controller="ai-chat" class="ai-widget">

  <%= button_to chats_path, class: "ai-widget__fab", aria_label: "Open AI Assistant", form: { data: { action: "click->ai-chat#toggle", turbo_frame: :insight_assistant } } do %>
  <i class="fa-solid fa-wand-magic-sparkles"></i>
  <% end %>

  <div class="ai-widget__panel" data-ai-chat-target="panel" aria-hidden="true">
    <div class="ai-widget__header">
      <div class="ai-widget__title">
        <strong>Insight Assistant</strong>
        <small>Ask about insights & trends</small>
      </div>

      <button type="button" class="ai-widget__close" data-action="click->ai-chat#toggle" aria-label="Close">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <%= turbo_frame_tag :insight_assistant, class: "ai-widget__turbo-frame" %>


    <%# <div class="ai-widget__body" data-ai-chat-target="messages">
      <div class="ai-bubble ai-bubble--assistant">
        Oi! Pergunte sobre volumes, tendÃªncias ou causas raiz ğŸ™‚
      </div>
    </div>

    <form class="ai-widget__composer" data-action="submit->ai-chat#send">
      <input type="text"
             class="ai-widget__input"
             placeholder="Type your questionâ€¦"
             data-ai-chat-target="input" />
      <button class="ai-widget__send" type="submit" aria-label="Send">
        <i class="fa-solid fa-arrow-up"></i>
      </button>
    </form> %>
  </div>
</div>
