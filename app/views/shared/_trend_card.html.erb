<!-- app/views/shared/_trend_card.html.erb -->
<%= link_to classification_path(Classification.find_by(tag: item.tag)) do %>

<div role="listitem"
     style="
       /* force full-width row regardless of external .card rules */
       width:100% !important;
       display:flex !important;
       justify-content:space-between !important;
       align-items:center !important;
       padding:12px 18px !important;
       border-radius:10px;
       border:1px solid #e5e7eb;
       background:#ffffff;
       box-sizing:border-box;
       cursor:pointer;
     ">

  <!-- LEFT: grow to take available space so content sits at the left edge -->
  <div style="display:flex; align-items:center; gap:12px; flex:1 1 0%; min-width:0;">
    <!-- number bubble (fixed size, no shrink) -->
    <div style="
        width:32px; height:32px;
        background:#eef2ff;
        border-radius:50%;
        display:flex; align-items:center; justify-content:center;
        font-weight:600; color:#3b82f6; font-size:14px;
        flex-shrink:0;
      ">
      <%= (local_assigns[:index] || 1) %>
    </div>

    <!-- texts (allow truncation when space is tight) -->
    <div style="min-width:0;">
      <div style="font-size:15px; font-weight:600; color:#111827; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
        <%= item.try(:tag) || "—" %>
      </div>
      <div style="font-size:12px; color:#6b7280; margin-top:2px;">
        <%= item.try(:count) || 0 %> ocorrências
      </div>
    </div>
  </div>

  <!-- RIGHT: keep badge at the far right -->
  <div style="margin-left:16px; display:flex; align-items:center; gap:8px; flex-shrink:0;">
    <div style="
        background:#fecaca;
        color:#b91c1c;
        padding:6px 10px;
        border-radius:14px;
        font-size:12px;
        font-weight:600;
        display:inline-flex;
        align-items:center;
        gap:6px;
      ">
      <span aria-hidden="true" style="font-size:12px; line-height:1;">⤴︎</span>
      <span><%= item.try(:growth).presence || 10 %>%</span>
    </div>

    <!-- optional arrow icon to the very right -->
    <div style="color:#9ca3af; font-size:16px; line-height:1;">➜</div>
  </div>

</div>

<% end %>
