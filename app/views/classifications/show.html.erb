

<h1 class="text-center mb-3"><%= @classification.tag %></h1>

<!-- âœ… BLOCO SUPERIOR: GRÃFICO + CARROSSEL (VAZIOS POR ENQUANTO) -->
<div class="container mt-4 mb-5">
  <div class="row">

    <!-- ESQUERDA: GRÃFICO (VAZIO POR ENQUANTO) -->
    <div class="col-md-6">
      <div class="card p-4 shadow-sm text-center" style="min-height: 280px;">
        <h5 class="text-muted">ğŸ“ˆ TendÃªncia de Volume</h5>
      </div>
    </div>

    <!-- DIREITA: CARROSSEL (VAZIO POR ENQUANTO) -->
    <div class="col-md-6">
      <div class="card p-4 shadow-sm text-center" style="min-height: 280px;">
        <h5 class="text-muted">ğŸ—£ï¸ Voz do Cliente</h5>
      </div>
    </div>

  </div>
</div>

<h2 class="text-center fw-bold mt-5">Roadmap EstratÃ©gico</h2>
<p class="text-center text-muted mb-4">
  AÃ§Ãµes priorizadas por IA para resolver esse problema
</p>

<% texto = @improvement.content.to_s %>

<% curto = texto.split("Curto Prazo:").last&.split("MÃ©dio Prazo:")&.first %>
<% medio = texto.split("MÃ©dio Prazo:").last&.split("Longo Prazo:")&.first %>
<% longo = texto.split("Longo Prazo:").last %>

<!-- 3 COLUNAS -->
<div class="row mt-4 mb-5 d-flex align-items-stretch">

  <!-- CURTO PRAZO -->
  <div class="col-md-4">
    <div class="card p-3 shadow-sm h-100">
      <h5 class="fw-bold">âš¡ Curto Prazo</h5>
      <small class="text-muted">1â€“2 semanas</small>
      <hr>
      <% curto.to_s.lines.each do |linha| %>
        <% next unless linha.start_with?("-") || linha.start_with?("âœ…") %>
        <div class="d-flex align-items-center mb-2">
          <span class="me-2">ğŸ“„</span>
          <span><%= linha.gsub("âœ…", "").gsub("-", "").strip %></span>
          <span class="badge bg-success ms-auto">FÃ¡cil</span>
        </div>
      <% end %>
    </div>
  </div>

  <!-- MÃ‰DIO PRAZO -->
  <div class="col-md-4">
    <div class="card p-3 shadow-sm h-100">
      <h5 class="fw-bold">ğŸ¯ MÃ©dio Prazo</h5>
      <small class="text-muted">1â€“3 meses</small>
      <hr>
      <% medio.to_s.lines.each do |linha| %>
        <% next unless linha.start_with?("-") || linha.start_with?("âœ…") %>
        <div class="d-flex align-items-center mb-2">
          <span class="me-2">ğŸ“„</span>
          <span><%= linha.gsub("âœ…", "").gsub("-", "").strip %></span>
          <span class="badge bg-warning ms-auto">MÃ©dio</span>
        </div>
      <% end %>
    </div>
  </div>

  <!-- LONGO PRAZO -->
  <div class="col-md-4">
    <div class="card p-3 shadow-sm h-100">
      <h5 class="fw-bold">ğŸ—ï¸ Longo Prazo</h5>
      <small class="text-muted">3â€“12 meses</small>
      <hr>
      <% longo.to_s.lines.each do |linha| %>
        <% next unless linha.start_with?("-") || linha.start_with?("âœ…") %>
        <div class="d-flex align-items-center mb-2">
          <span class="me-2">ğŸ“„</span>
          <span><%= linha.gsub("âœ…", "").gsub("-", "").strip %></span>
          <span class="badge bg-danger ms-auto">Complexo</span>
        </div>
      <% end %>
    </div>
  </div>

</div>

<%= link_to "â¬… Back", classifications_path %>
